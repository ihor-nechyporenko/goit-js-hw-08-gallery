{"version":3,"sources":["js/gallery-items.js","js/refs.js","js/make-cards-gallery-markup.js","index.js"],"names":["preview","original","description","gallery","document","querySelector","ligthbox","image","backdrop","closeBtn","makeCardsGallery","map","join","galleryCardsMarkup","galleryImages","refs","insertAdjacentHTML","addEventListener","onImageClick","onCloseModal","onBackdropClick","arrayOfImageLinks","makeArrayOfImageLinks","arrayOfImageDescriptions","makeArrayOfImageDescriptions","event","preventDefault","target","classList","contains","onOpenModal","dataset","source","getAttribute","position","url","window","onEscKeyPress","onArrowRightKeyPress","onArrowLeftKeyPress","add","setSrcAltAttributes","indexOf","code","length","src","alt","setAttribute","removeEventListener","remove","removeAttribute"],"mappings":"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","file":"src.abf12823.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n      description: 'Hokkaido Flower',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n      description: 'Container Haulage Freight',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n      description: 'Aerial Beach View',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n      description: 'Flower Blooms',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n      description: 'Alpine Mountains',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n      description: 'Mountain Lake Sailing',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n      description: 'Alpine Spring Meadows',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n      description: 'Nature Landscape',\r\n    },\r\n    {\r\n      preview:\r\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n      original:\r\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n      description: 'Lighthouse Coast Sea',\r\n    },\r\n];","export default {\r\n    gallery: document.querySelector('.js-gallery'),\r\n    ligthbox: document.querySelector('.lightbox'),\r\n    image: document.querySelector('.lightbox__image'),\r\n    backdrop: document.querySelector('.lightbox__overlay'),\r\n    closeBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n}","export default\r\n\r\nfunction makeCardsGallery(gallery) {\r\n    return gallery.map(({ preview, original, description }) => {\r\n        return `\r\n        <li class=\"gallery__item\">\r\n            <a\r\n                class=\"gallery__link\"\r\n                href=\"${original}\"\r\n            >\r\n                <img\r\n                    class=\"gallery__image\"\r\n                    src=\"${preview}\"\r\n                    data-source=\"${original}\"\r\n                    alt=\"${description}\"\r\n                />\r\n            </a>\r\n        </li>\r\n        `\r\n    }).join('');\r\n}","import galleryImages from './js/gallery-items';\r\nimport refs from './js/refs.js';\r\nimport makeCardsGalleryMarkup from './js/make-cards-gallery-markup.js';\r\n\r\nconst galleryCardsMarkup = makeCardsGalleryMarkup(galleryImages);\r\nrefs.gallery.insertAdjacentHTML('afterbegin', galleryCardsMarkup);\r\n\r\nrefs.gallery.addEventListener('click', onImageClick);\r\n\r\nrefs.closeBtn.addEventListener('click', onCloseModal);\r\n\r\nrefs.backdrop.addEventListener('click', onBackdropClick);\r\n\r\nconst arrayOfImageLinks = makeArrayOfImageLinks(galleryImages);\r\nconst arrayOfImageDescriptions = makeArrayOfImageDescriptions(galleryImages);\r\n\r\nfunction makeArrayOfImageLinks(gallery) {\r\n    return gallery.map(({ original }) => original);\r\n}\r\n\r\nfunction makeArrayOfImageDescriptions(gallery) {\r\n    return gallery.map(({ description }) => description);\r\n}\r\n\r\nfunction onImageClick(event) {\r\n    event.preventDefault();\r\n    \r\n    if (!event.target.classList.contains('gallery__image')) {\r\n        return;\r\n    }\r\n\r\n    const url = event.target.dataset.source;\r\n    const description = event.target.getAttribute(\"alt\");\r\n\r\n    onOpenModal(url, description);\r\n}\r\n\r\nlet position = 0;\r\n\r\nfunction onOpenModal(url, description) {\r\n    window.addEventListener('keydown', onEscKeyPress);\r\n    window.addEventListener('keydown', onArrowRightKeyPress);\r\n    window.addEventListener('keydown', onArrowLeftKeyPress);\r\n\r\n    refs.ligthbox.classList.add('is-open');\r\n\r\n    setSrcAltAttributes(url, description);\r\n\r\n    position = arrayOfImageLinks.indexOf(url);\r\n\r\n    return position;\r\n}\r\n\r\nfunction onArrowRightKeyPress(event) {\r\n    if (event.code === 'ArrowRight') {\r\n        position < arrayOfImageLinks.length - 1 ? position += 1 : position = 0;\r\n\r\n        setSrcAltAttributes(arrayOfImageLinks[position], arrayOfImageDescriptions[position]);\r\n    }\r\n}\r\n\r\nfunction onArrowLeftKeyPress(event) {\r\n    if (event.code === 'ArrowLeft') {\r\n        position > 0 ? position -= 1 : position = arrayOfImageLinks.length - 1;\r\n\r\n        setSrcAltAttributes(arrayOfImageLinks[position], arrayOfImageDescriptions[position]);\r\n    }\r\n}\r\n\r\nfunction setSrcAltAttributes(src, alt) {\r\n    refs.image.setAttribute(\"src\", src);\r\n    refs.image.setAttribute(\"alt\", alt);\r\n}\r\n\r\nfunction onCloseModal() {\r\n    window.removeEventListener('keydown', onEscKeyPress);\r\n    window.removeEventListener('keydown', onArrowRightKeyPress);\r\n    window.removeEventListener('keydown', onArrowLeftKeyPress);\r\n\r\n    refs.ligthbox.classList.remove('is-open');\r\n    refs.image.removeAttribute(\"src\");\r\n    refs.image.removeAttribute(\"alt\");\r\n}\r\n\r\nfunction onBackdropClick(event) {\r\n    if (!event.target.classList.contains('lightbox__overlay')) {\r\n        return;\r\n    }\r\n    \r\n    onCloseModal();\r\n}\r\n\r\nfunction onEscKeyPress(event) {\r\n    if (event.code === 'Escape') {\r\n        onCloseModal();\r\n    }\r\n}"]}